{"mappings":"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","sources":["js/unixConvertions.js","js/variables.js","js/rendering.js","js/chart.js","js/apiCalls.js","js/localStorage.js","js/eventHandlers.js","js/script.js"],"sourcesContent":["export const unixToNormalTime = function (unixTimestamp) {\r\n  let date = new Date(unixTimestamp * 1000);\r\n  let hours = date.getHours();\r\n  let minutes = \"0\" + date.getMinutes();\r\n\r\n  let formattedTime = hours + \" : 00\";\r\n  return formattedTime;\r\n};\r\n\r\nexport const unixToDate = function (unixTimestamp) {\r\n  let miliseconds = unixTimestamp * 1000;\r\n  let dateObject = new Date(miliseconds);\r\n\r\n  let humanDateFormat = dateObject.toLocaleString();\r\n\r\n  return humanDateFormat;\r\n};\r\n","export const MY_API_KEY = \"1dd8639e06977072c7c8fcaea598d700\";\r\n\r\nexport const state = {\r\n  cities: [],\r\n};\r\n\r\nexport const form = document.querySelector(\"#form\");\r\nexport const searchContainer = document.querySelector(\".container\");\r\nexport const inputV = document.getElementById(\"input\");\r\nexport const containerSearch = document.querySelector(\".search-container\");\r\nexport const addCity = document.querySelector(\".add-city-button\");\r\nexport const country = document.querySelector(\".country\");\r\nexport const addContainer = document.querySelector(\".add-city\");\r\nexport const selectedCitiesList = document.querySelector(\".selected-cities\");\r\nexport const containerSelected = document.querySelector(\".container-selected\");\r\nexport const details = document.querySelector(\".details-forecast\");\r\nexport const detailsContainer = document.querySelector(\".details-container\");\r\nexport const goBackButton = document.querySelector(\".go-back\");\r\nexport const titleDetailsContainer = document.querySelector(\".title-container\");\r\nexport const chartContainer = document.querySelector(\".chart-container\");\r\nexport const detailsFlexContainer = document.querySelector(\".details-flex\");\r\nexport const detailsTitle = document.querySelector(\".details-city\");\r\nexport const startSearchButton = document.querySelector(\".start-search\");\r\nexport const formContainer = document.querySelector(\".form-container\");\r\nexport const errorMessage = document.querySelector(\".error-msg\");\r\nexport const errorWindow = document.querySelector(\".error-window\");\r\nexport const closeErrorWindow = document.querySelector(\".close-error-window\");\r\n","import { unixToNormalTime, unixToDate } from \"./unixConvertions\";\r\nimport {\r\n  containerSearch,\r\n  selectedCitiesList,\r\n  details,\r\n  titleDetailsContainer,\r\n  errorWindow,\r\n  errorMessage,\r\n} from \"./variables\";\r\n\r\nexport const renderSearchedCity = function (data) {\r\n  const html = `\r\n  <li class=\"searched-city\">\r\n    <h1 class=\"city-name\">${data.name}</h1>\r\n    <p class=\"date-time\">${unixToNormalTime(data.dt + data.timezone - 3600)}</p>\r\n    <p class=\"weather-type\">${firstCapital(data.weather[0].description)}</p>\r\n    <h2 class=\"temperature\">${Math.round(data.main.temp)}°C</h2>\r\n    <div class=\"secondary-information\">\r\n      <p class=\"humidity\">Wilgotność:</br> ${data.main.humidity}%</p>\r\n      <p class=\"pressure\">Ciśnienie:</br> ${data.main.pressure} hPa</p>\r\n    </div>\r\n    <div class=\"add-city\">\r\n      <button id=\"add-city-button\">Dodaj miasto do śledzonych</button>\r\n    </div>\r\n  </li>\r\n`;\r\n\r\n  containerSearch.insertAdjacentHTML(\"beforeend\", html);\r\n};\r\n\r\nexport const renderSelectedCities = function (data) {\r\n  let html = `\r\n  <li class=\"country\">\r\n    <button id=\"close\" title=\"Usuń ze śledzonych\">x</button>\r\n    <h1 class=\"city-name\">${data.name}</h1>\r\n    <p class=\"date-time\">${data.time}</p>\r\n    <p class=\"weather-type\">${data.weather}</p>\r\n    <h2 class=\"temperature\">${Math.round(data.temperature)}°C</h2>\r\n    <div class=\"secondary-information\">\r\n      <p class=\"humidity\">Wilgotność:</br> ${data.humidity}%</p>\r\n      <p class=\"pressure\">Ciśnienie:</br> ${data.pressure} hPa</p>\r\n    </div>\r\n    <button id='check-details'>Sprawdź pogodę na 12 godzin!</button>\r\n  </li>\r\n`;\r\n  selectedCitiesList.insertAdjacentHTML(\"beforeend\", html);\r\n};\r\n\r\nexport const renderDetailsAboutCity = function (data, index) {\r\n  let html = `\r\n  \r\n  <li class=\"details\">\r\n    <p class=\"details-time\">${unixToDate(\r\n      data.hourly[index].dt + data.timezone_offset - 3600\r\n    )}</p>\r\n    <p class=\"details-temp\">Temperatura: ${data.hourly[index].temp.toFixed(\r\n      1\r\n    )}°C</p>\r\n    <p class=\"details-feels-like\">Odczuwalna: ${data.hourly[\r\n      index\r\n    ].feels_like.toFixed(1)}°C</p>\r\n    <p class=\"details-wind\">Wiatr: ${(\r\n      data.hourly[index].wind_speed * 3.6\r\n    ).toFixed(1)} km/h</p>\r\n  </li>`;\r\n\r\n  details.insertAdjacentHTML(\"beforeend\", html);\r\n};\r\n\r\nexport const renderDetailsTitle = function (data) {\r\n  console.log(data);\r\n  let html = `\r\n  <h1 class=\"details-city\">${data}</h1>\r\n  `;\r\n  titleDetailsContainer.insertAdjacentHTML(\"afterbegin\", html);\r\n};\r\n\r\nexport const firstCapital = function (string) {\r\n  let word = string.split(\" \");\r\n  const sentence = word[0].charAt(0).toUpperCase() + string.slice(1);\r\n\r\n  return sentence;\r\n};\r\n\r\nexport const renderErrorMessage = function (message) {\r\n  let html = `<p>${message}</p>`;\r\n  errorWindow.style.display = \"block\";\r\n  errorMessage.insertAdjacentHTML(\"afterbegin\", html);\r\n};\r\n","export const labelsArray = [];\r\n\r\nexport const data1 = {\r\n  label: \"Temperatura rzeczywista\",\r\n  backgroundColor: \"rgb(255, 99, 132)\",\r\n  borderColor: \"rgb(255, 99, 132)\",\r\n  data: [],\r\n};\r\n\r\nexport const data2 = {\r\n  label: \"Temperatura odczuwalna\",\r\n  backgroundColor: \"rgb(52, 152, 219)\",\r\n  borderColor: \"rgb(52, 152, 219)\",\r\n  data: [],\r\n};\r\n\r\nexport const dataForGraph = {\r\n  labels: labelsArray,\r\n  datasets: [data1, data2],\r\n};\r\n\r\nexport const config = {\r\n  type: \"line\",\r\n  data: dataForGraph,\r\n  options: {},\r\n};\r\n\r\nexport const myChart = new Chart(document.getElementById(\"myChart\"), config);\r\n","import { MY_API_KEY, state, containerSearch } from \"./variables\";\r\nimport { addToCityArray } from \"./script\";\r\n\r\nimport {\r\n  renderSearchedCity,\r\n  renderDetailsAboutCity,\r\n  renderDetailsTitle,\r\n  renderErrorMessage,\r\n} from \"./rendering.js\";\r\n\r\nimport { config, data1, data2, labelsArray, myChart } from \"./chart\";\r\nimport { unixToNormalTime } from \"./unixConvertions\";\r\n\r\nexport const getDataForPrint = async function (cityName) {\r\n  fetch(\r\n    `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&units=metric&lang=pl&appid=${MY_API_KEY}`\r\n  )\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        containerSearch.style.border = \"none\";\r\n        throw new Error(\r\n          renderErrorMessage(\r\n            \"Nie znaleziono miasta o takiej nazwie, spróbuj ponownie\"\r\n          )\r\n        );\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      renderSearchedCity(data);\r\n      containerSearch.classList.add(\"active\");\r\n    })\r\n    .catch((err) => console.error(err))\r\n    .finally(() => (containerSearch.style.opacity = 1));\r\n};\r\n\r\nexport const getDataForObject = async function (cityName) {\r\n  fetch(\r\n    `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&units=metric&lang=pl&appid=${MY_API_KEY}`\r\n  )\r\n    .then((response) => {\r\n      if (!response.ok)\r\n        throw new Error(\r\n          renderErrorMessage(\r\n            `Wystąpił błąd podczas pobierania danych ${response.status}`\r\n          )\r\n        );\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      addToCityArray(state.cities, data);\r\n    })\r\n    .catch((err) => console.error(err))\r\n    .finally(() => (containerSearch.style.opacity = 1));\r\n};\r\n\r\nexport const getCityName = async function (lat, lon) {\r\n  fetch(\r\n    `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&lang=pl&appid=${MY_API_KEY}`\r\n  )\r\n    .then((response) => {\r\n      if (!response.ok)\r\n        throw new Error(\r\n          renderErrorMessage(\r\n            `Wystąpił błąd podczas pobierania danych ${response.status}`\r\n          )\r\n        );\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      renderDetailsTitle(data.city.name);\r\n    });\r\n};\r\n\r\n// https://api.openweathermap.org/data/2.5/onecall?lat={lat}&lon={lon}&exclude={part}&appid={API key}\r\n\r\nexport const getDetailsAboutCity = async function (cityName) {\r\n  fetch(\r\n    `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&units=metric&lang=pl&appid=${MY_API_KEY}`\r\n  )\r\n    .then((response) => {\r\n      if (!response.ok)\r\n        throw new Error(\r\n          renderErrorMessage(\r\n            `Wystąpił błąd podczas pobierania danych ${response.status}`\r\n          )\r\n        );\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      return fetch(\r\n        `https://api.openweathermap.org/data/2.5/onecall?lat=${data.coord.lat}&lon=${data.coord.lon}&units=metric&lang=pl&appid=${MY_API_KEY}`\r\n      )\r\n        .then((response) => {\r\n          if (!response.ok)\r\n            throw new Error(\r\n              renderErrorMessage(\r\n                `Wystąpił błąd podczas pobierania danych ${response.status}`\r\n              )\r\n            );\r\n          return response.json();\r\n        })\r\n        .then((objectData) => {\r\n          getCityName(objectData.lat, objectData.lon);\r\n\r\n          let timeForGraph;\r\n          let feelLikeTempForGraph;\r\n          let realTempForGraph;\r\n          objectData.hourly.forEach((object) => {\r\n            let index = objectData.hourly.indexOf(object);\r\n            if (index < 12) {\r\n              console.log(object);\r\n              timeForGraph = unixToNormalTime(\r\n                object.dt + objectData.timezone_offset - 3600\r\n              );\r\n              labelsArray.push(timeForGraph);\r\n\r\n              realTempForGraph = object.temp;\r\n              data1.data.push(realTempForGraph);\r\n\r\n              feelLikeTempForGraph = object.feels_like;\r\n              data2.data.push(feelLikeTempForGraph);\r\n\r\n              renderDetailsAboutCity(objectData, index);\r\n              myChart.update(config);\r\n            }\r\n            myChart;\r\n          });\r\n        });\r\n    });\r\n};\r\n\r\n// obj.temp obj.pressure obj.humidity\r\n","export const addToLocalStorage = function (cityName, cityObject) {\r\n  localStorage.setItem(cityName, JSON.stringify(cityObject));\r\n};\r\n\r\nexport const getItemFromLocalStorage = function (cityName) {\r\n  return JSON.parse(localStorage.getItem(cityName));\r\n};\r\n\r\nexport const removeItemFromLocalStorage = function (cityName) {\r\n  localStorage.removeItem(cityName);\r\n};\r\n","import {\r\n  getDataForObject,\r\n  getDataForPrint,\r\n  getInputValue,\r\n  getDetailsAboutCity,\r\n} from \"./apiCalls\";\r\nimport {\r\n  containerSearch,\r\n  state,\r\n  inputV,\r\n  containerSelected,\r\n  details,\r\n  form,\r\n  titleDetailsContainer,\r\n  detailsFlexContainer,\r\n  chartContainer,\r\n  searchContainer,\r\n  startSearchButton,\r\n  formContainer,\r\n} from \"./variables\";\r\nimport { removeItemFromLocalStorage } from \"./localStorage\";\r\nimport { getInputValue } from \"./script\";\r\nimport { myChart, labelsArray, data2, data1 } from \"./chart\";\r\n\r\nexport const startSearch = function (event) {\r\n  event.preventDefault();\r\n  searchContainer.classList.remove(\"hide\");\r\n  startSearchButton.classList.add(\"hide\");\r\n  formContainer.classList.toggle(\"hide\");\r\n};\r\n\r\nexport const formHandler = function (event) {\r\n  event.preventDefault();\r\n  getDataForPrint(getInputValue());\r\n\r\n  containerSearch.innerHTML = \"\";\r\n};\r\n\r\nexport const documentHandler = function (event) {\r\n  if (event.target.id === \"add-city-button\") {\r\n    getDataForObject(getInputValue());\r\n    containerSearch.innerHTML = \"\";\r\n    containerSearch.classList.remove(\"active\");\r\n    inputV.value = \"\";\r\n    formContainer.classList.add(\"hide\");\r\n    startSearchButton.classList.toggle(\"hide\");\r\n  }\r\n\r\n  if (event.target.id === \"go-back\") {\r\n    containerSearch.classList.toggle(\"hide\");\r\n    containerSelected.classList.toggle(\"hide\");\r\n    detailsFlexContainer.classList.add(\"hide\");\r\n    chartContainer.classList.add(\"hide\");\r\n    details.classList.add(\"hide\");\r\n    searchContainer.classList.remove(\"hide\");\r\n\r\n    details.textContent = \"\";\r\n    titleDetailsContainer.innerHTML = \"\";\r\n\r\n    labelsArray.splice(0, labelsArray.length);\r\n    data2.data = [];\r\n    data1.data = [];\r\n  }\r\n\r\n  if (event.target.id === \"check-details\") {\r\n    const target = event.target;\r\n    const parent = target.parentElement;\r\n    const children = parent.children;\r\n    let text;\r\n\r\n    for (let i = 0; i < children.length; i++) {\r\n      if (children[i].classList.contains(\"city-name\")) {\r\n        text = children[i].textContent;\r\n      }\r\n    }\r\n\r\n    containerSearch.classList.toggle(\"hide\");\r\n    containerSelected.classList.toggle(\"hide\");\r\n    detailsFlexContainer.classList.remove(\"hide\");\r\n    chartContainer.classList.remove(\"hide\");\r\n    details.classList.remove(\"hide\");\r\n    searchContainer.classList.add(\"hide\");\r\n\r\n    console.log(text);\r\n    getDetailsAboutCity(text);\r\n    myChart;\r\n  }\r\n\r\n  if (event.target.id === \"close\") {\r\n    const target = event.target;\r\n    const parent = target.parentElement;\r\n\r\n    const children = parent.children;\r\n    let text;\r\n    let city;\r\n\r\n    for (let i = 0; i < children.length; i++) {\r\n      if (children[i].classList.contains(\"city-name\")) {\r\n        text = children[i].textContent;\r\n      }\r\n    }\r\n    parent.parentNode.removeChild(parent);\r\n    const objectToClose = state.cities.find((element) => element.name == text);\r\n    const index = state.cities.indexOf(objectToClose);\r\n    if (objectToClose) {\r\n      state.cities.splice(index, 1);\r\n\r\n      for (let i = 0; i < localStorage.length; i++) {\r\n        if (objectToClose.name === localStorage.key([i])) {\r\n          city = localStorage.key([i]);\r\n          removeItemFromLocalStorage(city);\r\n        }\r\n      }\r\n      // renderSelectedCities(getItemFromLocalStorage(city));\r\n    }\r\n  }\r\n};\r\n","import { firstCapital, renderErrorMessage } from \"./rendering\";\r\nimport { unixToNormalTime } from \"./unixConvertions\";\r\nimport {\r\n  state,\r\n  form,\r\n  startSearchButton,\r\n  selectedCitiesList,\r\n  errorWindow,\r\n  errorMessage,\r\n  closeErrorWindow,\r\n} from \"./variables\";\r\nimport { renderSelectedCities, renderErrorMessage } from \"./rendering\";\r\nimport { formHandler, documentHandler, startSearch } from \"./eventHandlers\";\r\nimport { addToLocalStorage, getItemFromLocalStorage } from \"./localStorage\";\r\n\r\nstartSearchButton.addEventListener(\"click\", function (event) {\r\n  startSearch(event);\r\n});\r\n\r\nform.addEventListener(\"submit\", function (event) {\r\n  formHandler(event);\r\n});\r\n\r\ndocument.addEventListener(\"click\", function (event) {\r\n  documentHandler(event);\r\n});\r\n\r\nwindow.addEventListener(\"click\", function (event) {\r\n  if (event.target == errorWindow) {\r\n    errorMessage.textContent = \"\";\r\n    errorWindow.style.display = \"none\";\r\n  }\r\n});\r\n\r\ncloseErrorWindow.addEventListener(\"click\", function (event) {\r\n  errorMessage.textContent = \"\";\r\n  errorWindow.style.display = \"none\";\r\n});\r\n\r\nexport const getInputValue = function () {\r\n  let inputValue = document.getElementById(\"input\").value;\r\n  return inputValue;\r\n};\r\n\r\nexport const createCityObject = function (data) {\r\n  const cityObject = data;\r\n  // console.log(cityObject);\r\n  return {\r\n    name: cityObject.name,\r\n    weather: firstCapital(cityObject.weather[0].description),\r\n    time: unixToNormalTime(cityObject.dt + cityObject.timezone - 3600),\r\n    temperature: cityObject.main.temp.toFixed(0),\r\n    humidity: cityObject.main.humidity,\r\n    pressure: cityObject.main.pressure,\r\n  };\r\n};\r\n\r\nexport const addToCityArray = function (arrayCities, data) {\r\n  let cityObject = createCityObject(data);\r\n\r\n  const element = arrayCities.find(\r\n    (element) => element.name === cityObject.name\r\n  );\r\n  if (!element) {\r\n    arrayCities.push(cityObject);\r\n    addToLocalStorage(cityObject.name, cityObject);\r\n    renderSelectedCities(getItemFromLocalStorage(cityObject.name));\r\n  } else {\r\n    renderErrorMessage(\"Już śledzisz to miasto!\");\r\n  }\r\n\r\n  console.log(arrayCities);\r\n};\r\n\r\nexport const test = function () {\r\n  if (state.cities.length > 0) {\r\n    let html = `<h1 class=\"selected-title\">Twoje ulubione miasta</h1>`;\r\n    selectedCitiesList.insertAdjacentHTML(\"afterbegin\", html);\r\n  } else {\r\n    let html = `<h1 class=\"selected-title\">Nie śledzisz jeszcze żadnego miasta</h1>`;\r\n    selectedCitiesList.insertAdjacentHTML(\"afterbegin\", html);\r\n  }\r\n};\r\n\r\nconst innit = function () {\r\n  for (let i = 0; i < localStorage.length; i++) {\r\n    renderSelectedCities(getItemFromLocalStorage(localStorage.key([i])));\r\n    state.cities.push(getItemFromLocalStorage(localStorage.key([i])));\r\n  }\r\n};\r\n\r\ninnit();\r\n"],"names":["$b843b3547dd51fd6$export$709034aef74b3689","unixTimestamp","date","Date","hours","getHours","getMinutes","$4c617ec27c615b1b$export$ca000e230c0caa3e","cities","$4c617ec27c615b1b$export$6210fa4921d2a466","document","querySelector","$4c617ec27c615b1b$export$100aa851bad32d9d","$4c617ec27c615b1b$export$f46dc44cb1195301","getElementById","$4c617ec27c615b1b$export$977bb9dc533714f","$4c617ec27c615b1b$export$1ebba0b8d0350d91","$4c617ec27c615b1b$export$624ac72e8eeb8e3d","$4c617ec27c615b1b$export$41ee12f6f6f05843","$4c617ec27c615b1b$export$b1bb34604c21be97","$4c617ec27c615b1b$export$2b53d53e423cdab9","$4c617ec27c615b1b$export$3a68973415509768","$4c617ec27c615b1b$export$1bf5dc8c605555c0","$4c617ec27c615b1b$export$231ba5fc42c01d86","$4c617ec27c615b1b$export$493b5823483d2c4e","$4c617ec27c615b1b$export$afcafca97ac41c9a","$4c617ec27c615b1b$export$ece1610170dbfb25","$9d6a878aa2651587$export$18d38d36a83f7810","data","html","name","time","weather","Math","round","temperature","humidity","pressure","insertAdjacentHTML","$9d6a878aa2651587$export$29c62da92808b123","index","hourly","dt","timezone_offset","toLocaleString","temp","toFixed","feels_like","wind_speed","$9d6a878aa2651587$export$483974a700b59b99","string","split","charAt","toUpperCase","slice","$9d6a878aa2651587$export$4ecbf1a4dd88f65f","message","style","display","$f5cd90c1152c4f44$export$11168f7aa2d14752","$f5cd90c1152c4f44$export$4809d079b19c754a","label","backgroundColor","borderColor","$f5cd90c1152c4f44$export$ffa5cb067a27f26d","$f5cd90c1152c4f44$export$e506a1d27d1eaa20","type","labels","datasets","options","$f5cd90c1152c4f44$export$8a6557d9c2e43fd9","Chart","$6d7be1ca34dcb18a$export$1dab972f8b2fc6f3","async","cityName","fetch","then","response","ok","border","Error","json","timezone","description","main","$9d6a878aa2651587$export$dcfaa038a791d2c7","classList","add","catch","err","console","error","finally","opacity","$6d7be1ca34dcb18a$export$252be1df97fdbc2d","lat","lon","status","log","$9d6a878aa2651587$export$4f7f1852cecf6488","city","$6285636da8bda55f$export$e8242d8d88d021d","JSON","parse","localStorage","getItem","$b90dc3ddb2de9632$export$fc9ef7c0ea698cd2","event","target","id","$481aee11fac924de$export$e0d43c40d8626470","$6d7be1ca34dcb18a$export$c7786119bb100d45","$481aee11fac924de$export$c5e4b84d2ce61726","innerHTML","remove","value","toggle","textContent","splice","length","children","parentElement","text","i","contains","coord","objectData","timeForGraph","feelLikeTempForGraph","realTempForGraph","forEach","object","indexOf","push","update","$6d7be1ca34dcb18a$export$62b43887a8d0fb32","parent","parentNode","removeChild","objectToClose","find","element","key","removeItem","addEventListener","preventDefault","$b90dc3ddb2de9632$export$8001e44f584a8b78","$b90dc3ddb2de9632$export$1e436eb08ebd73ca","window","arrayCities","cityObject","$481aee11fac924de$export$3292f82ea9e936d","setItem","stringify","$6285636da8bda55f$export$b4aebac53294aa19","$481aee11fac924de$var$innit"],"version":3,"file":"index.8d49ed02.js.map"}